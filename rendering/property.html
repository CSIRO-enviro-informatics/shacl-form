{%- macro input_field(property, disabled=False, required=False, copy=0) %}
{%- include "input_field.html" %}
{%- endmacro -%}
{%- macro entry(property, disabled=False, required=False, copy=None) %}
{%- include "entry.html" %}
{%- endmacro -%}

{%- if "maxCount" not in property or property["maxCount"] > 0 %}
<label for="{{ property["id"] }}">{{ property["name"] }}:</label><br />
{%- if "description" in property %}
<label for="{{ property["id"] }}"><i>{{ property["description"] }}</i></label><br />
{%- endif %}
{%- if "languageIn" in property %}<label for="{{ property["path"] }}"><i>Language:
    {% for l in property["languageIn"] %} {{ l }}{{ "," if not loop.last }}{% endfor %}</i></label><br />
{%- endif %}
{%- if "maxCount" in property and property["maxCount"] == 1 and "minCount" in property and property["minCount"] == 1 %}
    {{- entry(property, required=True, copy=0) }}
{%- else %}
<div>
    <div class='template' hidden data-max-entries="
    {%- if "maxCount" in property %}{{ property["maxCount"] }}{% endif %}" data-min-entries="
    {%- if "minCount" in property %}{{ property["minCount"] }}{% endif %}">
        <div>
            {{- entry(property, disabled=True)|indent(12) }}
        </div>
    </div>
    <div class='entries'>
    {%- if "minCount" in property %}
        {%- for i in range(property["minCount"]) %}
        <div>
            {{- entry(property, required=True, copy=i)|indent(12) }}
        </div>
        {%- endfor %}
    {%- endif %}
    </div>
    <button type="button" class='add-entry'>Add</button> <button type="button" disabled class='remove-entry'>Remove</button>
</div>
{%- endif %}
{%- endif %}
<br />